<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>头条again | 赵斐昊</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">头条again</h1><a id="logo" href="/.">赵斐昊</a><p class="description">假程序员假程序员假程序员假程序员假程序员假程序员假程序员假程序员。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">头条again</h1><div class="post-meta">Jan 13, 2019<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a class="disqus-comment-count" data-disqus-identifier="2019/01/13/头条again/" href="/2019/01/13/头条again/#disqus_thread"></a><div class="post-content"><h3 id="1-算法题"><a href="#1-算法题" class="headerlink" title="1.算法题"></a>1.算法题</h3><p><code>给你一个数字n(n &lt; 1e9), 再给你一个数字k(k &lt; n), 要求你找到1, 2, 3, ... n按照字典序排序后, 第k大的数字;如, n = 15, k = 7;那1 ~ 15按照字典序排序为: 1, 10, 11, 12, 13, 14, 15, 2, 3, 4, 5, 6, 7, 8, 9;则答案为15;</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getK</span>(<span class="params">n, k</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        arr.push(i)</span><br><span class="line">    &#125;</span><br><span class="line">    arr.sort(); <span class="comment">// 默认字典排序</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> arr[k - <span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-算法题"><a href="#2-算法题" class="headerlink" title="2.算法题"></a>2.算法题</h3><p><code>promise封装ajax请求，以及如何判断ajax超时</code><br><a href="http://blog.looooop.cn/2018/08/18/%E5%8E%9F%E7%94%9FJavaScript%E5%AE%9E%E7%8E%B0AJAX/" target="_blank" rel="noopener">原生ajax实现</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ajax = <span class="function">(<span class="params">obj</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> method = obj.method || <span class="string">'GET'</span>;</span><br><span class="line">        <span class="keyword">let</span> xhr = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">            xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.onReadyStateChange = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(xhr.status &gt;= <span class="number">200</span> &amp;&amp; xhr.status &lt; <span class="number">300</span> || xhr.status == <span class="number">304</span>)&#123;</span><br><span class="line">                    resolve(xhr.responseText)</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    reject(xhr.statusText)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(method == <span class="string">'POST'</span>)&#123;</span><br><span class="line">            xhr.open(<span class="string">'POST'</span>, obj.url, <span class="literal">true</span>);<span class="comment">// 第三个参数为true/false，用于控制是否异步，默认true即异步请求</span></span><br><span class="line">            xhr.responseType = <span class="string">'json'</span>;</span><br><span class="line">            xhr.setRequestHeader(<span class="string">'Accept'</span>, <span class="string">'application/json'</span>);</span><br><span class="line">            xhr.send(obj.data)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> query = <span class="string">''</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> obj.data)&#123;</span><br><span class="line">                query += <span class="string">'&amp;'</span> + <span class="built_in">encodeURIComponent</span>(key) + <span class="string">'='</span> + <span class="built_in">encodeURIComponent</span>(obj.data[key]);</span><br><span class="line">                query.subString(<span class="number">1</span>);</span><br><span class="line">                <span class="comment">//substring() 方法返回一个字符串在开始索引到结束索引(不包含)之间的一个子集, 或从开始索引直到字符串的末尾的一个子集。</span></span><br><span class="line">                <span class="comment">//substr()方法返回从指定位置开始的字符串中指定字符数的字符</span></span><br><span class="line">                <span class="comment">//slice()方法返回一个索引和另一个索引之间的字符串</span></span><br><span class="line">                xhr.open(<span class="string">'GET'</span>, obj.url + <span class="string">'?'</span> + query, <span class="literal">true</span>)</span><br><span class="line">                xhr.send();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.cnblogs.com/kazetotori/p/6037940.html" target="_blank" rel="noopener">关于如何判断超时，可以参考这篇文章</a></p>
<h3 id="3-ES6的模块化标准相对AMD和CommonJS最本质的区别是什么"><a href="#3-ES6的模块化标准相对AMD和CommonJS最本质的区别是什么" class="headerlink" title="3. ES6的模块化标准相对AMD和CommonJS最本质的区别是什么"></a>3. ES6的模块化标准相对AMD和CommonJS最本质的区别是什么</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CommonJS和AMD是运行时加载，ES6模块是编译时加载</span></span><br></pre></td></tr></table></figure>
<p><a href="http://blog.looooop.cn/2018/09/02/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96-AMD%E5%92%8CCMD%E7%9A%84%E5%8C%BA%E5%88%AB/" target="_blank" rel="noopener">笔记 - 前端模块化,AMD和CMD的区别</a></p>
<h3 id="4-设计一个简单的任务队列-要求分别在-1-3-4-秒后打印出-“1”-“2”-“3”"><a href="#4-设计一个简单的任务队列-要求分别在-1-3-4-秒后打印出-“1”-“2”-“3”" class="headerlink" title="4. 设计一个简单的任务队列, 要求分别在 1,3,4 秒后打印出 “1”, “2”, “3”"></a>4. 设计一个简单的任务队列, 要求分别在 1,3,4 秒后打印出 “1”, “2”, “3”</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">this</span>.queue = [];</span><br><span class="line">        <span class="keyword">this</span>.time = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    task(t, fn)&#123;</span><br><span class="line">        <span class="keyword">this</span>.time += t;</span><br><span class="line">        <span class="keyword">this</span>.queue.push([fn, <span class="keyword">this</span>.time]);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    start()&#123;</span><br><span class="line">        <span class="keyword">this</span>.queue.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                item[<span class="number">0</span>]();</span><br><span class="line">            &#125;, item[<span class="number">1</span>])</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Queue()</span><br><span class="line">.task(<span class="number">1000</span>, ()=&gt;&#123;<span class="built_in">console</span>.log(<span class="number">1</span>)&#125;)</span><br><span class="line">.task(<span class="number">2000</span>, ()=&gt;&#123;<span class="built_in">console</span>.log(<span class="number">2</span>)&#125;)</span><br><span class="line">.task(<span class="number">1000</span>, ()=&gt;&#123;<span class="built_in">console</span>.log(<span class="number">3</span>)&#125;)</span><br><span class="line">.start()</span><br></pre></td></tr></table></figure>
<h3 id="5-一行代码判断一个字符串是否是回文字符串，回文字符串是对称字符串的形式，例如：did，eve-dad-level"><a href="#5-一行代码判断一个字符串是否是回文字符串，回文字符串是对称字符串的形式，例如：did，eve-dad-level" class="headerlink" title="5. 一行代码判断一个字符串是否是回文字符串，回文字符串是对称字符串的形式，例如：did，eve, dad, level"></a>5. 一行代码判断一个字符串是否是回文字符串，回文字符串是对称字符串的形式，例如：did，eve, dad, level</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>) === str</span><br></pre></td></tr></table></figure>
<h3 id="6-script延迟加载方法-不阻塞DOM渲染"><a href="#6-script延迟加载方法-不阻塞DOM渲染" class="headerlink" title="6. script延迟加载方法 //不阻塞DOM渲染"></a>6. script延迟加载方法 //不阻塞DOM渲染</h3><p><a href="https://segmentfault.com/q/1010000000640869" target="_blank" rel="noopener">segmentFault - defer和async的区别</a></p>
<ol>
<li>async：异步加载，加载完成后立即执行</li>
<li>defer：异步加载，脚本在元素解析完成之后，DOMContentLoaded 事件触发之前执行</li>
<li>同时使用defer和async,如果浏览器两个属性都支持，则会忽视defer属性,按照async执行</li>
</ol>
<h3 id="7-求一个二叉树所有根节点到叶子节点的路径所组成数字的和"><a href="#7-求一个二叉树所有根节点到叶子节点的路径所组成数字的和" class="headerlink" title="7. 求一个二叉树所有根节点到叶子节点的路径所组成数字的和"></a>7. 求一个二叉树所有根节点到叶子节点的路径所组成数字的和</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumTree</span>(<span class="params">root, sum = <span class="number">0</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sum = sum * <span class="number">10</span> + root.value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!root.left &amp;&amp; !root.right)&#123;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sumTree(root.left, sum) + sumTree(root,right, sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 非递归深度优先遍历</span></span><br><span class="line"><span class="keyword">var</span> preOrderUnRecur = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!node) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Empty Tree'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> stack = []</span><br><span class="line">  stack.push(node)</span><br><span class="line">  <span class="keyword">while</span>(stack.length !== <span class="number">0</span>) &#123;</span><br><span class="line">    node = stack.pop()</span><br><span class="line">    <span class="built_in">console</span>.log(node.value)    </span><br><span class="line">    <span class="keyword">if</span>(node.right) stack.push(node.right)</span><br><span class="line">    <span class="keyword">if</span>(node.left) stack.push(node.left)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-对requestAnimationFrame的理解"><a href="#8-对requestAnimationFrame的理解" class="headerlink" title="8. 对requestAnimationFrame的理解"></a>8. 对requestAnimationFrame的理解</h3><p><a href="http://web.jobbole.com/91578/" target="_blank" rel="noopener">伯乐在线 - 深入理解 requestAnimationFrame</a><br>requestAnimationFrame最大的优势是由系统来决定回调函数的执行时机。它能保证回调函数在屏幕每一次的刷新间隔中只被执行一次，这样就不会引起丢帧现象，也不会导致动画出现卡顿的问题。</p>
<p>除此之外，requestAnimationFrame还有以下两个优势：<br><strong>CPU节能</strong><br><strong>函数节流</strong></p>
<h3 id="9-什么是类数组对象？"><a href="#9-什么是类数组对象？" class="headerlink" title="9. 什么是类数组对象？"></a>9. 什么是类数组对象？</h3><p>JS中，对于一个普通的对象来说，如果它的所有键名均为正整数，同时拥有length属性，则为“类数组对象”。例如：(函数中) arguments / nodeList</p>
<h3 id="10-为啥0-1-0-2-0-3"><a href="#10-为啥0-1-0-2-0-3" class="headerlink" title="10. 为啥0.1 + 0.2 != 0.3 ?"></a>10. 为啥0.1 + 0.2 != 0.3 ?</h3><p><a href="https://yuchengkai.cn/docs/frontend/#%E4%B8%BA%E4%BB%80%E4%B9%88-0-1-0-2-0-3" target="_blank" rel="noopener">interview map</a><br>0.1和0.2的二进制表示皆为无限循环，在计算过程中产生了进位。<br>解决方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>((<span class="number">0.1</span> + <span class="number">0.2</span>).toFixed(<span class="number">10</span>))</span><br></pre></td></tr></table></figure></p>
<h3 id="11-实现一个Event类，具有on-off-once-trigger方法"><a href="#11-实现一个Event类，具有on-off-once-trigger方法" class="headerlink" title="11. 实现一个Event类，具有on\off\once\trigger方法"></a>11. 实现一个Event类，具有on\off\once\trigger方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Event</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.tasks = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    on(name,cb) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>.tasks[name]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.tasks[name] = [];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.tasks[name].push(cb);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    off(name,cb) &#123;</span><br><span class="line">        <span class="keyword">let</span> item = <span class="keyword">this</span>.tasks[name];</span><br><span class="line">        <span class="keyword">if</span>(item) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;item.length;i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(item[i] == cb) &#123;</span><br><span class="line">                    item.splice(i,<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    once(name,cb) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">this</span>.tasks[name]) &#123;</span><br><span class="line">            <span class="keyword">this</span>.tasks[name] = [];</span><br><span class="line">        &#125;</span><br><span class="line">        cb.tag = <span class="string">'once'</span>;</span><br><span class="line">        <span class="keyword">this</span>.tasks[name].push(cb);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    trigger(name) &#123;</span><br><span class="line">        <span class="keyword">let</span> tasklist = <span class="keyword">this</span>.tasks[name],</span><br><span class="line">            args = [].slice.call(<span class="built_in">arguments</span>,<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(tasklist) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;tasklist.length;i++) &#123;</span><br><span class="line">                tasklist[i].apply(<span class="keyword">this</span>,args);</span><br><span class="line">                <span class="keyword">if</span>(tasklist[i].tag &amp;&amp; tasklist[i].tag == <span class="string">'once'</span>) &#123;</span><br><span class="line">                    tasklist.splice(i,<span class="number">1</span>);</span><br><span class="line">                    i--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> myEvent = <span class="keyword">new</span> Event();</span><br><span class="line">myEvent.on(<span class="string">'console'</span>,() =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'on1'</span>);</span><br><span class="line">&#125;).once(<span class="string">'console'</span>,() =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'once'</span>);</span><br><span class="line">&#125;).on(<span class="string">'console'</span>,() =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'on2'</span>);</span><br><span class="line">&#125;).trigger(<span class="string">'console'</span>).trigger(<span class="string">'console'</span>);</span><br><span class="line"><span class="comment">//on1 once on2 on1 on2</span></span><br></pre></td></tr></table></figure>
<h3 id="12-CSS实现三角形"><a href="#12-CSS实现三角形" class="headerlink" title="12. CSS实现三角形"></a>12. CSS实现三角形</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.triangle</span> &#123;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attribute">border-left</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">            <span class="attribute">border-right</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">            <span class="attribute">border-bottom</span>: <span class="number">100px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">//梯形就是在三角形基础上，多了个width</span><br><span class="line"><span class="selector-class">.trapezoid</span> &#123;</span><br><span class="line">            <span class="attribute">height</span>:<span class="number">0</span>;</span><br><span class="line">            <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">            <span class="attribute">border-left</span>:<span class="number">60px</span> solid transparent;</span><br><span class="line">            <span class="attribute">border-right</span>:<span class="number">60px</span> solid transparent;</span><br><span class="line">            <span class="attribute">border-bottom</span>:<span class="number">100px</span> solid <span class="number">#e5c3b2</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-绝对定位和transform-translate的区别"><a href="#13-绝对定位和transform-translate的区别" class="headerlink" title="13. 绝对定位和transform:translate的区别"></a>13. 绝对定位和transform:translate的区别</h3><p><strong>绝对定位</strong>会引起页面重排（relayout）和重绘（repaint）<br><strong>translate</strong>平移只会触发重绘（repaint）<br><a href="http://blog.looooop.cn/2018/08/07/%E9%87%8D%E7%BB%98%E5%92%8C%E9%87%8D%E6%8E%92/" target="_blank" rel="noopener">笔记 - 重排和重绘</a></p>
<h3 id="14-进程间通信的方式"><a href="#14-进程间通信的方式" class="headerlink" title="14. 进程间通信的方式"></a>14. 进程间通信的方式</h3><p>管道通信<br>信号量机制<br>socket<br>消息队列<br>socket套接字</p>
<h3 id="15-node加载第三方模块的原理"><a href="#15-node加载第三方模块的原理" class="headerlink" title="15. node加载第三方模块的原理"></a>15. node加载第三方模块的原理</h3><p><a href="https://github.com/mly-zju/blog/issues/10" target="_blank" rel="noopener">GitHub - 结合源码分析 Node.js 模块加载与运行原理</a></p>
<ol>
<li>require(‘文件名’)</li>
<li>根据文件名，调用 <code>Module._resolveFilename</code> 解析文件的路径</li>
<li>查看缓存 <code>Module._cache</code> 中是否有该模块，如果有，直接返回</li>
<li>通过 <code>NativeModule.nonInternalExists</code> 判断该模块是否为核心模块，如果核心模块，调用核心模块的加载方法 NativeModule.require</li>
<li>如果不是核心模块，新创建一个 <code>Module</code> 对象，调用 <code>tryModuleLoad</code> 函数加载模块</li>
</ol>
<h3 id="16-git-merge和rebase区别"><a href="#16-git-merge和rebase区别" class="headerlink" title="16. git merge和rebase区别"></a>16. git merge和rebase区别</h3><ol>
<li>git merge：合并分支，并保留修改内容的历史记录。</li>
<li>git rebase：合并分支，在原有的历史记录后添加差异。优势在于合并后的结果很清晰，只有一条线，劣势在于如果一旦出现冲突，解决冲突很麻烦，可能要解决多个冲突</li>
</ol>
<p>下面还有几个<a href="https://yuchengkai.cn/docs/cs/git.html#rebase-%E5%90%88%E5%B9%B6" target="_blank" rel="noopener">git高级操作</a></p>
<ol>
<li>git stash：用于临时保存工作目录的改动。开发中可能会遇到代码写一半需要切分支打包的问题，如果这时候你不想 commit 的话，就可以使用该命令。</li>
<li>git reflog：可以看到 HEAD 的移动记录，假如之前误删了一个分支，可以通过该命令看到移动 HEAD 的哈希值(有时效，只会保存一段时间内的记录)</li>
<li>git reset：如果你想删除刚写的 commit，就可以通过该命令实现。但是 reset 的本质并不是删除了 commit，而是重新设置了 HEAD 和它指向的 branch。</li>
</ol>
<h3 id="17-归并排序"><a href="#17-归并排序" class="headerlink" title="17. 归并排序"></a>17. 归并排序</h3><p><a href="http://blog.looooop.cn/2018/07/03/js%E5%AE%9E%E7%8E%B0%E5%87%A0%E7%A7%8D%E6%8E%92%E5%BA%8F/" target="_blank" rel="noopener">笔记 - js实现几种排序</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mergeSort = <span class="function">(<span class="params">arr</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.length &lt; <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> middle = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">let</span> left = arr.slice(<span class="number">0</span>, middle);</span><br><span class="line">    <span class="keyword">let</span> right = arr.slice(middle);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> merge(mergeSort(left), mergeSort(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">merge = <span class="function">(<span class="params">left, right</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    <span class="keyword">let</span> il = <span class="number">0</span>, ir = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(il &lt; left.length &amp;&amp; ir &lt; right.length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(left[il] &lt; right[ir])&#123;</span><br><span class="line">            result.push(left[il++])</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result.push(right[ir++])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result.concat(left.slice(il)).concat(right.slice(ir))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="18-HTTPS工作原理及优缺点"><a href="#18-HTTPS工作原理及优缺点" class="headerlink" title="18. HTTPS工作原理及优缺点"></a>18. HTTPS工作原理及优缺点</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>对称加密和非对称加密区别:<a href="https://segmentfault.com/a/1190000004461428" target="_blank" rel="noopener">白话解释 对称加密算法 VS 非对称加密算法</a></p>
<p><a href="https://blog.csdn.net/u010189457/article/details/81212021" target="_blank" rel="noopener">CSDN - HTTPS工作原理及优缺点</a></p>
<ol>
<li><p>客户端发起HTTPS请求<br>这个没什么好说的，就是用户在浏览器里输入一个https网址，然后连接到server的443端口。</p>
</li>
<li><p>服务端的配置<br>采用HTTPS协议的服务器必须要有一套数字证书，可以自己制作，也可以向组织申请。区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用受信任的公司申请的证书则不会弹出提示页面。这套证书其实就是一对公钥和私钥。如果对公钥和私钥不太理解，可以想象成一把钥匙和一个锁头，只是全世界只有你一个人有这把钥匙，你可以把锁头给别人，别人可以用这个锁把重要的东西锁起来，然后发给你，因为只有你一个人有这把钥匙，所以只有你才能看到被这把锁锁起来的东西。</p>
</li>
<li><p>传送证书(公钥==证书)<br>这个证书其实就是公钥，只是包含了很多信息，如证书的颁发机构，过期时间等等。</p>
</li>
<li><p>客户端解析证书<br>这部分工作是有客户端的TLS来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出一个警告框，提示证书存在问题。如果证书没有问题，那么就生成一个随机值。然后用证书对该随机值进行加密。就好像上面说的，把随机值用锁头锁起来，这样除非有钥匙，不然看不到被锁住的内容。</p>
</li>
<li><p>传送加密信息<br>这部分传送的是用证书加密后的随机值，目的就是让服务端得到这个随机值，以后客户端和服务端的通信就可以通过这个随机值来进行加密解密了。</p>
</li>
<li><p>服务段解密信息<br>服务端用私钥解密后，得到了客户端传过来的随机值(私钥)，然后把内容通过该值进行对称加密。所谓对称加密就是，将信息和私钥通过某种算法混合在一起，这样除非知道私钥，不然无法获取内容，而正好客户端和服务端都知道这个私钥，所以只要加密算法够彪悍，私钥够复杂，数据就够安全。</p>
</li>
<li><p>传输加密后的信息<br>这部分信息是服务段用私钥加密后的信息，可以在客户端被还原</p>
</li>
<li><p>客户端解密信息<br>客户端用之前生成的私钥解密服务端传过来的信息，于是获取了解密后的内容。整个过程第三方即使监听到了数据，也束手无策。</p>
</li>
</ol>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><p>1）技术方面： </p>
<ol>
<li>相同网络环境下，HTTPS协议会使页面的加载时间延长近50%，增加10%到20%的耗电。此外，HTTPS协议还会影响缓存，增加数据开销和功耗。 </li>
<li>HTTPS协议的安全是有范围的，在黑客攻击、拒绝服务攻击、服务器劫持等方面几乎起不到什么作用。 </li>
<li>最关键的，SSL 证书的信用链体系并不安全。特别是在某些国家可以控制 CA 根证书的情况下，中间人攻击一样可行。</li>
</ol>
<p>2）成本方面 </p>
<ol>
<li>SSL的专业证书需要购买，功能越强大的证书费用越高。个人网站、小网站可以选择入门级免费证书； </li>
<li>SSL 证书通常需要绑定 固定IP，为服务器增加固定IP会增加一定费用； </li>
<li>HTTPS 连接服务器端资源占用较多，相同负载下会增加带宽和服务器投入成本;</li>
</ol>
<h3 id="19-函数防抖和节流"><a href="#19-函数防抖和节流" class="headerlink" title="19. 函数防抖和节流"></a>19. 函数防抖和节流</h3><p><a href="https://github.com/hanzichi/underscore-analysis/issues/20" target="_blank" rel="noopener">GitHub - JavaScript 函数节流和函数去抖应用场景辨析</a></p>
<h4 id="函数防抖-debounce"><a href="#函数防抖-debounce" class="headerlink" title="函数防抖(debounce)"></a>函数防抖(debounce)</h4><p><em>概念：</em> 在事件被触发n秒后再执行回调，如果在这n秒内又被触发，则重新计时。<br><em>生活中的实例：</em> 如果有人进电梯（触发事件），那电梯将在10秒钟后出发（执行事件监听器），这时如果又有人进电梯了（在10秒内再次触发该事件），我们又得等10秒再出发（重新计时）。<br><em>场景：</em>输入框文本输入验证<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> context = <span class="keyword">this</span></span><br><span class="line">      <span class="keyword">var</span> args = <span class="built_in">arguments</span></span><br><span class="line">      <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">          clearTimeout(timer);</span><br><span class="line">          timer = <span class="literal">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          fn.apply(context, args)</span><br><span class="line">      &#125;, wait)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'boom'</span>)</span><br><span class="line">&#125;</span><br><span class="line">setInterval(debounce(fn,<span class="number">500</span>),<span class="number">1000</span>) <span class="comment">// 第一次在1500ms后触发，之后每1000ms触发一次</span></span><br><span class="line"></span><br><span class="line">setInterval(debounce(fn,<span class="number">2000</span>),<span class="number">1000</span>) <span class="comment">// 不会触发一次（我把函数防抖看出技能读条，如果读条没完成就用技能，便会失败而且重新读条）</span></span><br></pre></td></tr></table></figure></p>
<h4 id="函数节流-throttle"><a href="#函数节流-throttle" class="headerlink" title="函数节流(throttle)"></a>函数节流(throttle)</h4><p><em>概念：</em> 规定一个单位时间，在这个单位时间内，只能有一次触发事件的回调函数执行，如果在同一个单位时间内某事件被触发多次，只有一次能生效。<br><em>生活中的实例：</em> 我们知道目前的一种说法是当 1 秒内连续播放 24 张以上的图片时，在人眼的视觉中就会形成一个连贯的动画，所以在电影的播放（以前是，现在不知道）中基本是以每秒 24 张的速度播放的，为什么不 100 张或更多是因为 24 张就可以满足人类视觉需求的时候，100 张就会显得很浪费资源。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, gapTime</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> _lastTime = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> _nowTime = + <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="keyword">if</span> (_nowTime - _lastTime &gt; gapTime || !_lastTime) &#123;</span><br><span class="line">      fn();</span><br><span class="line">      _lastTime = _nowTime</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fn = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'boom'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setInterval(throttle(fn,<span class="number">1000</span>),<span class="number">10</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="20-实现类似于模板字符串的功能"><a href="#20-实现类似于模板字符串的功能" class="headerlink" title="20. 实现类似于模板字符串的功能"></a>20. 实现类似于模板字符串的功能</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings" target="_blank" rel="noopener">MDN - 模板字符串语法</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">`str <span class="subst">$&#123;expression&#125;</span> str`</span></span><br></pre></td></tr></table></figure></p>
<p>实现：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"&#123;&#123;name&#125;&#125;贼厉害，他才&#123;&#123;age&#125;&#125;岁"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name:<span class="string">'赵斐昊'</span>,</span><br><span class="line">    age:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseString</span>(<span class="params">str, obj</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="params">key</span>=&gt;</span>&#123;</span><br><span class="line">		str = str.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"&#123;&#123;"</span>+key+<span class="string">"&#125;&#125;"</span>,<span class="string">'g'</span>), obj[key])</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">parseString(str, obj);<span class="comment">//"赵斐昊贼厉害，他才18岁"</span></span><br></pre></td></tr></table></figure></p>
<h3 id="21-Script标签异步特性"><a href="#21-Script标签异步特性" class="headerlink" title="21. Script标签异步特性"></a>21. Script标签异步特性</h3><p><a href="https://juejin.im/entry/5a7ad55ef265da4e81238da9" target="_blank" rel="noopener">掘金 - 浅谈script标签的defer和async</a></p>
<h3 id="22-前端主流动画实现方式"><a href="#22-前端主流动画实现方式" class="headerlink" title="22. 前端主流动画实现方式"></a>22. 前端主流动画实现方式</h3><p><a href="https://segmentfault.com/a/1190000002515384" target="_blank" rel="noopener">segmentFault - 主流动画实现方式总结</a></p>
<ol>
<li>Transitions动画</li>
<li>Keyframes</li>
<li>SVG动画</li>
<li>setTimeout</li>
<li>requestAnimationFrame</li>
<li>canvas</li>
<li>WebGL</li>
<li>flash</li>
</ol>
<h3 id="23-数组去重"><a href="#23-数组去重" class="headerlink" title="23. 数组去重"></a>23. 数组去重</h3><p><a href="http://localhost:4000/2018/08/13/js%E5%90%88%E5%B9%B6%E6%95%B0%E7%BB%84%E5%B9%B6%E6%8E%92%E5%BA%8F%E5%8E%BB%E9%87%8D/" target="_blank" rel="noopener">笔记 - 合并数组并排序去重</a><br><a href="https://github.com/mqyqingfeng/Blog/issues/27" target="_blank" rel="noopener">github - JavaScript专题之数组去重</a><br>indexOf / filter / set</p>
<h3 id="24-XSS、CSRF"><a href="#24-XSS、CSRF" class="headerlink" title="24. XSS、CSRF"></a>24. XSS、CSRF</h3><p>这篇文章讲解的很详细了。<a href="https://github.com/dwqs/blog/issues/68" target="_blank" rel="noopener">GitHub - 浅说XSS和CSRF</a></p>
<h4 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h4><p>XSS，即 Cross Site Script，中译是跨站脚本攻击；<br>XSS 攻击是指攻击者在网站上注入恶意的客户端代码，通过恶意脚本对客户端网页进行篡改，从而在用户浏览网页时，对用户浏览器进行控制或者获取用户隐私数据的一种攻击方式。</p>
<p>攻击者对客户端网页注入的恶意脚本一般包括 JavaScript，有时也会包含 HTML 和 Flash。有很多种方式进行 XSS 攻击，但它们的共同点为：将一些隐私数据像 cookie、session 发送给攻击者，将受害者重定向到一个由攻击者控制的网站，在受害者的机器上进行一些恶意操作。<br>XSS攻击可以分为3类：反射型（非持久型）、存储型（持久型）、基于DOM。<br><strong>反射型</strong>：这种攻击方式往往需要攻击者诱使用户点击一个恶意链接，或者提交一个表单，或者进入一个恶意网站时，注入脚本进入被攻击者的网站。<br><strong>存储型</strong>：存储型 XSS 会把用户输入的数据 “存储” 在服务器端，当浏览器请求数据时，脚本从服务器上传回并执行。这种 XSS 攻击具有很强的稳定性。<br><strong>基于DOM</strong>：基于 DOM 的 XSS 攻击是指通过恶意脚本修改页面的 DOM 结构，是纯粹发生在客户端的攻击。</p>
<p><em>XSS 攻击的防范</em></p>
<ol>
<li>HttpOnly 防止劫取 Cookie；</li>
<li>输入检查，不要相信用户的任何输入；</li>
<li>输出检查</li>
</ol>
<h4 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h4><p>CSRF，即 Cross Site Request Forgery，中译是跨站请求伪造，是一种劫持受信任用户向服务器发送非预期请求的攻击方式。<br>通常情况下，CSRF 攻击是攻击者借助受害者的 Cookie 骗取服务器的信任，可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击服务器，从而在并未授权的情况下执行在权限保护之下的操作。<br><em>CSRF 攻击的防范</em></p>
<ol>
<li>验证码</li>
<li>Referer Check，在HTTP 头中有一个字段叫 Referer，它记录了该 HTTP 请求的来源地址。通过 Referer Check，可以检查请求是否来自合法的”源”。</li>
<li>添加 token 验证</li>
</ol>
<h3 id="25-正向代理，反向代理"><a href="#25-正向代理，反向代理" class="headerlink" title="25. 正向代理，反向代理"></a>25. 正向代理，反向代理</h3><p><a href="https://www.jianshu.com/p/208c02c9dd1d" target="_blank" rel="noopener">简书 - 正向代理与反向代理的区别</a></p>
<ol>
<li><p>概念<br>  正向代理是一个位于客户端和目标服务器之间的代理服务器(中间服务器)。为了从原始服务器取得内容，客户端向代理服务器发送一个请求，并且指定目标服务器，之后代理向目标服务器转交并且将获得的内容返回给客户端。正向代理的情况下客户端必须要进行一些特别的设置才能使用。<br>  反向代理正好相反。对于客户端来说，反向代理就好像目标服务器。并且客户端不需要进行任何设置。客户端向反向代理发送请求，接着反向代理判断请求走向何处，并将请求转交给客户端，使得这些内容就好似他自己一样，一次客户端并不会感知到反向代理后面的服务，也因此不需要客户端做任何设置，只需要把反向代理服务器当成真正的服务器就好了。</p>
</li>
<li><p>区别<br>正向代理需要你主动设置代理服务器ip或者域名进行访问，由设置的服务器ip或者域名去获取访问内容并返回；而反向代理不需要你做任何设置，直接访问服务器真实ip或者域名，但是服务器内部会自动根据访问内容进行跳转及内容返回，你不知道它最终访问的是哪些机器。</p>
</li>
</ol>
<p><strong>正向代理是代理客户端，为客户端收发请求，使真实客户端对服务器不可见；而反向代理是代理服务器端，为服务器收发请求，使真实服务器对客户端不可见。</strong></p>
<p>从上面的描述也能看得出来正向代理和反向代理最关键的两点区别：<br>1）是否指定目标服务器<br>2）客户端是否要做设置</p>
<ol>
<li>使用场景<br>1）正向代理：翻墙<br>2）反向代理：负载均衡</li>
</ol>
<h3 id="26-前端路由实现"><a href="#26-前端路由实现" class="headerlink" title="26. 前端路由实现"></a>26. 前端路由实现</h3><p><a href="https://juejin.im/post/5ac61da66fb9a028c71eae1b" target="_blank" rel="noopener">面试官: 你了解前端路由吗?</a><br>1.hash路由<br>hash路由一个明显的标志是带有#,我们主要是通过监听url中的hash变化来进行路由跳转。<br>hash的优势就是兼容性更好,在老版IE中都有运行,问题在于url中一直存在#不够美观,而且hash路由更像是Hack而非标准,相信随着发展更加标准化的History API会逐步蚕食掉hash路由的市场。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Routers</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// 储存hash与callback键值对</span></span><br><span class="line">    <span class="keyword">this</span>.routes = &#123;&#125;;</span><br><span class="line">    <span class="comment">// 当前hash</span></span><br><span class="line">    <span class="keyword">this</span>.currentUrl = <span class="string">''</span>;</span><br><span class="line">    <span class="comment">// 记录出现过的hash</span></span><br><span class="line">    <span class="keyword">this</span>.history = [];</span><br><span class="line">    <span class="comment">// 作为指针,默认指向this.history的末尾,根据后退前进指向history中不同的hash</span></span><br><span class="line">    <span class="keyword">this</span>.currentIndex = <span class="keyword">this</span>.history.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.refresh = <span class="keyword">this</span>.refresh.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.backOff = <span class="keyword">this</span>.backOff.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// 默认不是后退操作</span></span><br><span class="line">    <span class="keyword">this</span>.isBack = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="keyword">this</span>.refresh, <span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'hashchange'</span>, <span class="keyword">this</span>.refresh, <span class="literal">false</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  route(path, callback) &#123;</span><br><span class="line">    <span class="keyword">this</span>.routes[path] = callback || <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  refresh() &#123;</span><br><span class="line">    <span class="keyword">this</span>.currentUrl = location.hash.slice(<span class="number">1</span>) || <span class="string">'/'</span>;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.isBack) &#123;</span><br><span class="line">      <span class="comment">// 如果不是后退操作,且当前指针小于数组总长度,直接截取指针之前的部分储存下来</span></span><br><span class="line">      <span class="comment">// 此操作来避免当点击后退按钮之后,再进行正常跳转,指针会停留在原地,而数组添加新hash路由</span></span><br><span class="line">      <span class="comment">// 避免再次造成指针的不匹配,我们直接截取指针之前的数组</span></span><br><span class="line">      <span class="comment">// 此操作同时与浏览器自带后退功能的行为保持一致</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.currentIndex &lt; <span class="keyword">this</span>.history.length - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">this</span>.history = <span class="keyword">this</span>.history.slice(<span class="number">0</span>, <span class="keyword">this</span>.currentIndex + <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">this</span>.history.push(<span class="keyword">this</span>.currentUrl);</span><br><span class="line">      <span class="keyword">this</span>.currentIndex++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.routes[<span class="keyword">this</span>.currentUrl]();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'指针:'</span>, <span class="keyword">this</span>.currentIndex, <span class="string">'history:'</span>, <span class="keyword">this</span>.history);</span><br><span class="line">    <span class="keyword">this</span>.isBack = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 后退功能</span></span><br><span class="line">  backOff() &#123;</span><br><span class="line">    <span class="comment">// 后退操作设置为true</span></span><br><span class="line">    <span class="keyword">this</span>.isBack = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.currentIndex &lt;= <span class="number">0</span></span><br><span class="line">      ? (<span class="keyword">this</span>.currentIndex = <span class="number">0</span>)</span><br><span class="line">      : (<span class="keyword">this</span>.currentIndex = <span class="keyword">this</span>.currentIndex - <span class="number">1</span>);</span><br><span class="line">    location.hash = <span class="string">`#<span class="subst">$&#123;<span class="keyword">this</span>.history[<span class="keyword">this</span>.currentIndex]&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">this</span>.routes[<span class="keyword">this</span>.history[<span class="keyword">this</span>.currentIndex]]();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.History API<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Routers</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.routes = &#123;&#125;;</span><br><span class="line">    <span class="comment">// 在初始化时监听popstate事件</span></span><br><span class="line">    <span class="keyword">this</span>._bindPopState();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 初始化路由</span></span><br><span class="line">  init(path) &#123;</span><br><span class="line">    history.replaceState(&#123;<span class="attr">path</span>: path&#125;, <span class="literal">null</span>, path);<span class="comment">// 三个参数分别是state、title、url</span></span><br><span class="line">    <span class="keyword">this</span>.routes[path] &amp;&amp; <span class="keyword">this</span>.routes[path]();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 将路径和对应回调函数加入hashMap储存</span></span><br><span class="line">  route(path, callback) &#123;</span><br><span class="line">    <span class="keyword">this</span>.routes[path] = callback || <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 触发路由对应回调</span></span><br><span class="line">  go(path) &#123;</span><br><span class="line">    history.pushState(&#123;<span class="attr">path</span>: path&#125;, <span class="literal">null</span>, path);</span><br><span class="line">    <span class="keyword">this</span>.routes[path] &amp;&amp; <span class="keyword">this</span>.routes[path]();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 监听popstate事件</span></span><br><span class="line">  _bindPopState() &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, e =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> path = e.state &amp;&amp; e.state.path;</span><br><span class="line">      <span class="keyword">this</span>.routes[path] &amp;&amp; <span class="keyword">this</span>.routes[path]();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="27-对语义化的理解"><a href="#27-对语义化的理解" class="headerlink" title="27. 对语义化的理解"></a>27. 对语义化的理解</h3><p>语义化的含义就是用正确的标签做正确的事情，html语义化就是1)让页面的内容结构化，便于对浏览器、搜索引擎解析；2)在没有样式CCS情况下也以一种文档格式显示，并且是容易阅读的。搜索引擎的爬虫依赖于标记来确定上下文和各个关键字的权重，利于 SEO。3)使阅读源代码的人对网站更容易将网站分块，便于阅读维护理解。</p>
<h3 id="28-TCP为啥三次握手，两次会出现什么问题"><a href="#28-TCP为啥三次握手，两次会出现什么问题" class="headerlink" title="28. TCP为啥三次握手，两次会出现什么问题"></a>28. TCP为啥三次握手，两次会出现什么问题</h3><p><a href="https://blog.csdn.net/carson_ho/article/details/85316719" target="_blank" rel="noopener">CSDN - 计算机网络：这是一份全面 &amp; 详细 的TCP协议学习指南</a></p>
<p><strong>结论：</strong><br><strong>防止服务器端因接收了早已失效的连接请求报文，从而一直等待客户端请求，最终导致形成死锁、浪费资源</strong></p>
</div><div class="tags"><a href="/tags/interview/">interview</a></div><div class="post-nav"><a class="pre" href="/2019/01/15/浏览器跳出页面检测/">浏览器跳出页面检测</a><a class="next" href="/2019/01/08/头条面试回顾/">头条一面回顾</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://yoursite.com/2019/01/13/头条again/';
    this.page.identifier = '2019/01/13/头条again/';
    this.page.title = '头条again';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//zhaofeihao.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//zhaofeihao.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://zhaofeihao.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/flex/" style="font-size: 15px;">flex</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/css3/" style="font-size: 15px;">css3</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/express/" style="font-size: 15px;">express</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/interview/" style="font-size: 15px;">interview</a> <a href="/tags/TCP-UDP/" style="font-size: 15px;">TCP-UDP</a> <a href="/tags/html5/" style="font-size: 15px;">html5</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/综合/" style="font-size: 15px;">综合</a> <a href="/tags/jquery/" style="font-size: 15px;">jquery</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/Express/" style="font-size: 15px;">Express</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/浏览器缓存/" style="font-size: 15px;">浏览器缓存</a> <a href="/tags/react/" style="font-size: 15px;">react</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/03/10/Redux开发实用教程/">Redux开发实用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/24/Qunar前端自学大纲/">Qunar前端自学大纲</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/18/头条二面回顾/">头条二面回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/15/浏览器跳出页面检测/">浏览器跳出页面检测</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/13/头条again/">头条again</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/08/头条面试回顾/">头条一面回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/03/头条真题回顾/">头条真题回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/30/正则获取URL中的参数/">正则获取URL中的参数</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/30/yarn-vs-npm/">yarn-vs-npm</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/26/二叉树遍历以及两个栈模拟队列/">二叉树遍历以及两个栈模拟队列</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//zhaofeihao.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">赵斐昊.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>